# nma.tfvars is a templated file auto-generated by NMA. The values of the variables
# are sourced from the operator nma.hcl config and values monitored from
# Consul Catalog.
#
# We should also template a warning message in the file to operators that any manual
# changes to this file will be clobbered by a subsequent update by NMA.
#

panos = {
  # Unused attributes are requried to be set explicitly to null
  hostname = "localhost"
  username = "username"
  password = "password"
  api_key  = null
  protocol = null
  port     = null
  timeout  = null
}

bigip = {
  address  = "localhost"
  username = "username"
  password = "password"
}

service_mapping = {
  panos = ["web1", "web2"]
  bigip = ["web1"]
}

virtual_addresses = {
  web1 = ["virtual.com"]
}

services = {
  web1: {
    # Pulled from HCL config
    name        = "web1"
    description = "spiderman"

    # Dynamic values discovered from Consul Catalog
    addresses         = ["192.0.0.1:8000", "192.0.0.2:8000"]
    sources           = ["192.0.0.1:8080"]
    destinations      = []
    virtual_addresses = []
  },
  web2: {
    name              = "web2"
    description       = "charlette"
    addresses         = ["192.0.0.13:5000"]
    sources           = ["192.0.0.1:8080"]
    destinations      = ["192.0.0.1:8080"]
    virtual_addresses = []
  }
]
